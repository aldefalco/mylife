using System;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using MyLife.Game.Interfaces;
using MyLife.Game.Models;

namespace MyLife.Test
{
    [TestClass]
    public class SimpleStaticFigures
    {
        [TestMethod]
        public void Beehive()
        {
            var initCells = Helpers.Generate(@"......
                                               ..##..
                                               .#..#.
                                               ..##...");

            var finalCells = Helpers.Generate(@"......
                                               ..##..
                                               .#..#.
                                               ..##...");
            var word = new BasicWorld(new HashModel()) as IWorld;
            word.Model.ModelPersistent.Initialize(initCells); 
            Helpers.CheckCells(word, initCells);
            Assert.AreEqual(1, word.Evolve(), "Wrong number of generation:{0}", word.Generation);
            Helpers.CheckCells(word, finalCells);
        }

        [TestMethod]
        public void Loaf()
        {
            var initCells = Helpers.Generate(@".........
                                               .........
                                               ...##....
                                               ..#..#...
                                               ...#.#...
                                               ....#....
                                               .........");

            var finalCells = Helpers.Generate(@".........
                                               .........
                                               ...##....
                                               ..#..#...
                                               ...#.#...
                                               ....#....
                                               .........");
            var word = new BasicWorld(new HashModel());
            word.Model.ModelPersistent.Initialize(initCells);
            Helpers.CheckCells(word, initCells);
            Assert.AreEqual(1, word.Evolve(), "Wrong number of generation:{0}", word.Generation);
            Helpers.CheckCells(word, finalCells);
        }

        [TestMethod]
        public void Boat()
        {
            var initCells = Helpers.Generate(@".........
                                               .........
                                               .........
                                               ...##....
                                               ...#.#...
                                               ....#....
                                               .........");

            var finalCells = Helpers.Generate(@".........
                                               .........
                                               .........
                                               ...##....
                                               ...#.#...
                                               ....#....
                                               ........."); 
            var word = new BasicWorld(new HashModel());
            word.Model.ModelPersistent.Initialize(initCells);
            Helpers.CheckCells(word, initCells);
            Assert.AreEqual(1, word.Evolve(), "Wrong number of generation:{0}", word.Generation);
            Helpers.CheckCells(word, finalCells);
        }

    }
}
